(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();let c=0,i=0,h=0,E=0,a,y=!0;function l(e){const t=document.querySelector(e);if(t)return t;throw new Error(`Element with selector ${e} is not currenly defined in the page!`)}function T(){const e=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],t=["C","D","H","S"],o=[];return t.forEach(r=>e.forEach(n=>o.push(`${n}-${r}`))),o}function $(e){for(let t=0;t<e.length;t++){const o=Math.floor(Math.random()*e.length),r=e[t];e[t]=e[o],e[o]=r}return e}function C(e,t){for(;e>21&&t>0;)e-=10,t-=1;return e}function f(e){return e[0]==="A"}function m(e){const o=(e==null?void 0:e.split("-"))[0];return isNaN(Number(o))?o==="A"?11:10:Number(o)}function w(e,t=!0){i=C(i,E),c=C(c-(t?m(e):0),h-(t&&f(e)?1:0)),p.yourSumText.innerText=i.toString(),p.dealerSumText.innerText=c.toString()+(t?" + Hidden":"")}const p={dealerCards:l("#dealer-cards"),yourCards:l("#your-cards"),hitBtn:l("#hit"),stayBtn:l("#stay"),restartBtn:l("#restart"),hiddenCard:l("#hidden"),resultsText:l("#results"),dealerSumText:l("#dealer-sum"),yourSumText:l("#your-sum")};window.addEventListener("load",v);function v(){const{dealerCards:e,yourCards:t,hitBtn:o,stayBtn:r,hiddenCard:n}=p;let s=T();if(s=$(s),a=s.pop(),!!a){for(n.src=`/cards/B-${a.split("-")[1]}.png`,c+=m(a),h+=f(a)?1:0;c<17;){const u=document.createElement("img"),d=s.pop();if(u.src=`/cards/${d}.png`,!d)return;c+=m(d),h+=f(d)?1:0,e.append(u)}for(let u=0;u<2;u++){const d=document.createElement("img"),g=s.pop();if(d.src=`/cards/${g}.png`,!g)return;i+=m(g),E+=f(g)?1:0,t.append(d)}w(a),o.addEventListener("click",()=>x(s)),r.addEventListener("click",L)}}function x(e){if(!y)return;const{yourCards:t}=p,o=document.createElement("img"),r=e.pop();o.src=`/cards/${r}.png`,r&&(i+=m(r),E+=f(r)?1:0,t.append(o),w(a??""),i>21&&(y=!1))}function L(){const{hiddenCard:e,resultsText:t,restartBtn:o}=p;o.addEventListener("click",()=>location.reload()),w(a??"",!1),y=!1,e.src=`/cards/${a}.png`;let r="";i>21&&i!=c?r="You lose!":c>21&&i!=c?r="You win!":i===c?r="Tie!":i>c?r="You win!":i<c?r="You lose!":r="Invalid Result!",t.innerText=r,console.log("------- Open for debuging purposes! ------"),console.log(`Dealer's sum: ${c}`),console.log(`Your sum: ${i}`)}
